/*!
@license RoboHelp template enhancements | (c) Basler AG
*/
!function(e){function t(){var t=s.model.get(s.consts("KEY_TOPIC_IN_IFRAME")),o=s.model.get(s.consts("KEY_TOPIC_TITLE"));if(t&&o){if(n("1.1")&&function(t,o){e(t+" option").each(function(){if(e(this).text().replace(/ .*/,"")===o){var i=e(this).val();e(t).val(i).trigger("change",!0)}})}(SELECT2BOXID,o),function(){var e=s.model.get(s.consts("KEY_TOPIC_ID"));return!!e&&1===(e=e.topicID).indexOf("_")}()||n("1")?(e("#filterbtn").fadeIn(200),e("#filterbtnmobile").fadeIn(200),l()||e("a.share").fadeIn(200),e("a.help").fadeIn(200),e("#selectedDeviceHolder").fadeIn(200),e("#selectedDeviceHolderMobile").fadeIn(200)):(e("#filterbtn").fadeOut(200),e("#filterbtnmobile").fadeOut(200),l()||e("a.share").fadeOut(200),e("a.help").fadeOut(200),e("#selectedDeviceHolder").fadeOut(200),e("#selectedDeviceHolderMobile").fadeOut(200)),s._.isUsefulString(o)&&(document.title=o+" | Basler"),window.localStorage?"true"===localStorage.getItem(TRACKING_KEY_NAME):"true"===getCookie(TRACKING_KEY_NAME))c&&console.log("[DEBUG] Tracking is disabled");else{!function(e,t,o){var i=getUrlParameter("utm_campaign"),n=getUrlParameter("utm_medium"),a=getUrlParameter("utm_source"),d=s.model.get(s.consts("KEY_SEARCH_TERM"));s._.isUsefulString(d)&&(e=encodeURI(e+"?rhsearch="+d));if(!s._.isEmptyObject(ga)&&s._.isUsefulString(e)&&s._.isUsefulString(t))if(l()){var u=s.model.get(s.consts("KEY_LNG")).VersionNumber;(function(e,t,o,i){var n="";n=window.localStorage?localStorage.getItem("ga:clientId"):ga.getAll()[0].get("clientId");var l=r(1e9,9999999999),s=r(1e7,99999999),a=(r(1e9,2147483647),(new Date).getTime()),d=new Image,u="https://www.google-analytics.com/__utm.gif?utmwv=1.3&utmn="+l+"&utmsr=-&utmsc=-&utmul=-&utmje=0&utmfl=-&aip=1&utmdt="+i+"&utmhn="+t+"&utmr=/&utmp="+o+"&utmac="+e+"&utmcc=__utma%3D"+s+"."+n+"."+a+"."+a+"."+a+".2%3B%2B__utmb%3D"+s+"%3B%2B__utmc%3D"+s+"%3B%2B__utmz%3D"+s+"."+a+".2.2.utmccn%3D(referral)%7Cutmcsr%3D/%7Cutmcct%3D/%7Cutmcmd%3Dreferral%3B%2B__utmv%3D"+s+".-%3Butme";d.src=u,c&&console.log("[DEBUG] GA data sent (local). Account: "+e+", Client ID: "+n+", URL: "+o+", title: "+i+", unique ID: "+l)})("UA-41699848-8",s._.isUsefulString(u)?"local-"+u+".baslerweb.com":"local.baslerweb.com",e,t)}else void 0!==o&&function(e,t,o,i,n,r){ga("set",{campaignSource:r,campaignName:i,campaignMedium:n}),ga("send",{hitType:"pageview",location:e,title:t,dimension1:o}),c&&console.log("[DEBUG] GA data sent (web). Location: "+e+", title: "+t+", custom dimension 1: "+o)}(e,t,o,i,n,a)}(t,o,e(SELECT2BOXID+" :selected").text()||"")}s._.isUsefulString(window.location.search)&&window.history.replaceState&&window.history.replaceState({},"",window.location.toString().replace(getUrlParamString(),""))}}function o(){return l()?(e("div.title").css("overflow","visible"),e("div.title").css("line-height","75%"),e("div.title").css("margin-top","0"),e("div.title").css("height","auto"),e("#offlineVersionLabel").show()):(window.localStorage?"true"===localStorage.getItem(COOKIE_INFO_KEY_NAME):"true"===getCookie(COOKIE_INFO_KEY_NAME))||(e("<div class='cookieinfo'>").append(COOKIE_INFO_TEXT).appendTo("body"),e("#cookiebtn").click(function(){window.localStorage?localStorage.setItem(COOKIE_INFO_KEY_NAME,"true"):setCookie(COOKIE_INFO_KEY_NAME,"true","true"),e(".cookieinfo").remove()})),function(t,o){var i=s._.compactObject(s.model.get(s.consts("KEY_PROJECT_TAG_STATES"))),r=s._.compactObject(s.model.get(s.consts("KEY_DEFAULT_FILTER"))),l=s._.compactObject(s.model.get(s.consts("KEY_MERGED_FILTER_KEY")));if(0===e(t).length&&!s._.isEmptyObject(i)&&!s._.isEmptyObject(r)&&!s._.isEmptyObject(l)){var a={},d=Object.keys(r[0])[0],u=l[0].children,f="";f=isLocalDBSupported()?Object.keys(i[0])[0]:getCookie(CAMERA_ID_KEY_NAME),s._.isUsefulString(f)||(f=Object.keys(r[0])[0]);var g=e("ul.wFltOpts",e("div.filter-holder")[0]),m=g.find("ul.wFltOptsGrp"),p=[],_=s.model.get(s.consts("KEY_LNG"));s._.isEmptyObject(_)||(p=[_.FilterDescription1,_.FilterDescription2,_.FilterDescription3,_.FilterDescription4]);var E=g.find("li.group");E.each(function(e){e===parseInt(o)?(m.eq(e).hide(),E.eq(e).find("label.tag-parent").after("<p class='settings-description'>"+p[e]+"</p>"),E.eq(e).attr("id","camera-select-group")):!1===c&&E.eq(e).hide()}),g.find("label.tag-parent").eq(o).after("<div style='padding:10px'><select id='"+t.substring(1)+"' style='width: 100%'><option></option></select></div>");for(var h=[],b=0;b<Object.keys(u).length;b++)h.push({id:b,text:u[b].display});e(t).select2({placeholder:"",data:h}),e(t).on("change",function(o,i){void 0===i&&(i=!1);var r=e(t+" :selected").text(),c=e("#selectedDeviceLink").text();if(r!==c){var d=e(t).val(),f=u[d].name,g={};g[d]=f,a[0]=g;var m=[];for(b=0;b<Object.keys(l[1].children).length;++b)m[b]=l[1].children[b].name||"";var p=[];for(b=0;b<Object.keys(l[2].children).length;++b)p[b]=l[2].children[b].name||"";var _=[];for(b=0;b<Object.keys(l[3].children).length;++b)_[b]=l[3].children[b].name||"";var E=f.replace("_p","").split(/(_|^.{0,3}|\d+|[a-z])/).filter(function(e){if(e)return 0!=e.length&&" "!=e&"_"!=e}),h={seriesid:E[0],interfaceid:E[3],colorid:E[4]},v=CAMERA_NAMING;v.forEach(function(e,t){h.seriesid===v[t].seriesid.toLowerCase()&&h.interfaceid===v[t].interfaceid&&h.colorid===v[t].colorid&&(m.forEach(function(e,o){if(v[t].sfnctag.toLowerCase()===m[o]){var i={};i[o.toString()]=v[t].sfnctag.toLowerCase(),a[1]=i}}),p.forEach(function(e,o){if(v[t].seriestag.toLowerCase()===p[o]){var i={};i[o.toString()]=v[t].seriestag.toLowerCase(),a[2]=i}}),_.forEach(function(e,o){if(v[t].colortag.toLowerCase()===_[o]){var i={};i[o.toString()]=v[t].colortag.toLowerCase(),a[3]=i}}))}),s.model.publish(s.consts("KEY_PROJECT_TAG_STATES"),s._.clone(a));var O=gDefTopicURL.substring(0,gDefTopicURL.indexOf("/")+1)+f.replace(PROTOTYPE_MARKER.toLowerCase(),"").replace(BASICFEATURESET_MARKER,"").replace(ADVANCEDFEATURESET_MARKER,"").replace("_","-")+".htm";e("#selectedDeviceLink").fadeOut(function(){e(this).text(r).attr("href",O).fadeIn()}),e("#selectedDeviceLinkMobile").text(r).attr("href",O),isLocalDBSupported()||setCookie(CAMERA_ID_KEY_NAME,d,!0),n("1.1")&&!i&&window.loadTopic(O),-1!==f.indexOf(PROTOTYPE_MARKER.toLowerCase())?e(".prototype-message").show():e(".prototype-message").hide()}}),e("a.reset-button").on("click",function(){return e(t).val(d).trigger("change",!0),!1}),s._.isUsefulString(f)&&e(t).val(f).trigger("change",!0)}}(SELECT2BOXID,0),e("#printbtn").click(function(){try{var t=s._.getTopicFrame(),o=t.contentDocument?t.contentDocument:t.contentWindow.document;return e(PANEL_CONTENT,o).toggle(!0),e(PANEL,o).removeClass("collapsed"),!0}catch(e){return c&&console.log("[DEBUG] "+e.message),!0}}),e("#helpbtn").click(function(){return function(){if(0===e(".introjs-overlay").length){i(),e("#filterbtn")[0].click();var t=introJs();t.setOptions({steps:STEPS_TUTORIAL,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,skipLabel:"Close",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showProgress:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.3"}).onexit(function(){e(".introjs-overlay").hide()}).oncomplete(function(){e(".introjs-overlay").hide()}).start()}e("a.introjs-nextbutton").on("click",function(){e(document).width()<tablet_max_width&&t.exit()})}(),!0}),e("#sharebtn").click(function(){var t=e("#selectedDeviceLink").text(),o=s.model.get(s.consts("KEY_MERGED_FILTER_KEY"))[0].display;if(s._.isUsefulString(t)&&s._.isUsefulString(o)){var i=document.createElement("input");document.body.appendChild(i);var n=getUrlBookmark();return-1!==n.indexOf("&")&&(n=n.substring(0,getUrlBookmark().indexOf("&"))),i.value=getUrlWithoutParameterAndBookMark()+"?filter="+o+":"+t+n,i.select(),document.execCommand("copy",!1),document.body.removeChild(i),alert(SHARE_MESSAGE),!0}}),e(".prototype-message").click(function(){return function(){if(0===e(".introjs-overlay").length){introJs().setOptions({steps:STEPS_PROTOTYPE,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,doneLabel:"OK",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.1"}).onexit(function(){e(".introjs-overlay").hide()}).start()}}(),!0}),this}function i(){e(".desktop-sidebar-hidden").length>0&&e("#sidebarbtn").length>0&&e("#sidebarbtn").is(":visible")&&e("#sidebarbtn")[0].click()}function n(e){var t=s.model.get(s.consts("KEY_TOPIC_ID"));return!!t&&(t=t.topicID).substring(0,e.length)===e}function r(e,t){return e+Math.floor(Math.random()*(t-e))}function l(){return"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname}var c=!1,s=window.rh;s.model.subscribe(s.consts("KEY_TOPIC_ID"),function(){t()}),s.model.subscribe(s.consts("EVT_TOPIC_HIDDEN"),function(){!function(){if(0===e(".introjs-overlay").length&&e("#camera-select-group").length>0){var t=introJs();t.setOptions({steps:STEPS_WARNING,tooltipPosition:"auto",hidePrev:!0,hideNext:!0,skipLabel:"Close",nextLabel:"Choose camera",tooltipClass:"tooltip",showStepNumbers:!1,disableInteraction:!0,showBullets:!1,scrollToElement:!1,overlayOpacity:"0.1"}).onexit(function(){e(".introjs-overlay").hide()}).start(),e("a.introjs-nextbutton").on("click",function(){i(),e("#filterbtn")[0].click(),t.exit()})}}()}),s.model.subscribeOnce(s.consts("KEY_TAG_EXPRESSION"),function(){o()})}(jQuery);